<mat-form-field>
  <mat-label>è¦–è§’</mat-label>
  <mat-select [(value)]="selected" (valueChange)="changeDisplayedColumns($event)">
    @for (food of foods; track food) {
    <mat-option [value]="food.value">{{food.viewValue}}</mat-option>
    }
  </mat-select>
</mat-form-field>
<table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
  class="mat-elevation-z8">

  <!-- ğŸ¢å…¬å¸åŸºæœ¬è³‡æ–™ Start -------------------------------------------------- -->
  <!-- 1. Column -->
  <ng-container matColumnDef="b_info_code">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by code">
      <b>ä»£è™Ÿ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_code}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="b_info_name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
      <b>åç¨±</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_name}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="b_info_market">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market">
      <b>å¸‚å ´</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_market}} </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="b_info_date">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">
      <b>æ—¥æœŸ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_date}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="b_info_price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by price">
      <b>æˆäº¤åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.b_info_pct>=0 ? 'red' :'green'}">
      {{element.b_info_price}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="b_info_change">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by change">
      <b>æ¼²è·Œåƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.b_info_pct>=0 ? 'red' :'green'}">
      {{element.b_info_change}}
    </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="b_info_pct">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by pct">
      <b>æ¼²è·Œå¹…</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.b_info_pct>=0 ? 'red' :'green'}">
      {{element.b_info_pct}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="b_info_face">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by face">
      <b>é¢å€¼(å…ƒ)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_face}} </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="b_info_capital">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by capital">
      <b>è‚¡æœ¬(å„„)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_capital}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="b_info_count">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by count">
      <b>ç™¼è¡Œé‡(è¬å¼µ)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_count}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="b_info_market_cap">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market_cap">
      <b>å¸‚å€¼(å„„)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_market_cap}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="b_info_up_year">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by up_year">
      <b>æˆç«‹å¹´æ•¸</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_up_year}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="b_info_market_year">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market_year">
      <b>ä¸Šå¸‚å¹´æ•¸</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_more_than(10, element.b_info_market_year)}">
      {{element.b_info_market_year}}
    </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="b_info_futures">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by futures">
      <b>è‚¡ç¥¨æœŸè²¨</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_futures}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="b_info_options">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by options">
      <b>é¸æ“‡æ¬Š</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_options}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="b_info_Warrant">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Warrant">
      <b>æ¬Šè­‰</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_Warrant}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="b_info_debt">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by debt">
      <b>å…¬å¸å‚µ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_debt}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="b_info_private">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by private">
      <b>ç§å‹Ÿè‚¡</b>
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.b_info_private}}
    </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="b_info_special">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by special">
      <b>ç‰¹åˆ¥è‚¡</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_special}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="b_info_verticals">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by verticals">
      <b>ç”¢æ¥­åˆ¥</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_verticals}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="b_info_chairman">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by chairman">
      <b>è‘£äº‹é•·</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_chairman}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="b_info_manager">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by manager">
      <b>ç¸½ç¶“ç†</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.b_info_manager}} </td>
  </ng-container>
  <!-- ğŸ¢å…¬å¸åŸºæœ¬è³‡æ–™ End ---------------------------------------------------- -->

  <!-- ğŸ“ˆæˆ‘çš„åŸºæœ¬é¢ Start ---------------------------------------------------- -->
  <!-- 1. Column -->
  <ng-container *ngFor="let col of columnStr_m_basic let idx=index" [matColumnDef]="col.key">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      <b>{{col.value}}</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element[col.key]}} </td>
  </ng-container>

  <ng-container matColumnDef="m_basic.epsp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by epsp">
      <b>EPSä¼°åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_less_than(element.m_basic.epsp, element.b_info_price)}">
      {{element.m_basic.epsp}}
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.yiep">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by yiep">
      <b>è‚¡åƒ¹æ·¨å€¼æ¯”</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_less_than(element.m_basic.yiep, element.b_info_price)}">
      {{element.m_basic.yiep}}
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.kp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by kp">
      <b>ROEä¼°åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_less_than(element.m_basic.kp, element.b_info_price)}">
      {{element.m_basic.kp}}
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.pbr">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by pbr">
      <b>è‚¡åƒ¹æ·¨å€¼æ¯”</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(0,1, element.m_basic.pbr)}">
      {{element.m_basic.pbr}}
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.peg">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by peg">
      <b>PEG</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(0,999, element.m_basic.peg)}">
      {{element.m_basic.peg}}
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.cash_y">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by cash_y">
      <b>ç¾é‡‘æ®–åˆ©ç‡</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(5,999, element.m_basic.cash_y)}">
      <b>{{element.m_basic.cash_y}}</b>
    </td>
  </ng-container>
  <ng-container matColumnDef="m_basic.roe">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by roe">
      <b>å¹³å‡ROE(>8%)</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(8,999, element.m_basic.roe)}">
      {{element.m_basic.roe}}
    </td>
  </ng-container>
  <!-- ğŸ“ˆæˆ‘çš„åŸºæœ¬é¢ End ------------------------------------------------------ -->

  <!-- ğŸ“ˆè‚¡é­š Start --------------------------------------------------------- -->
  <!-- 1. Column -->
  <ng-container *ngFor="let col of columnStr_e_fish let idx=index" [matColumnDef]="col.key">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      <b>{{col.value}}</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element[col.key]}} </td>
  </ng-container>
  <!-- ğŸ“ˆè‚¡é­š End ----------------------------------------------------------- -->

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator [pageSizeOptions]="[5, 10, 20]" [pageSize]="10" showFirstLastButtons
  aria-label="Select page of periodic elements">
</mat-paginator>
