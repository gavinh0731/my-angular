<mat-form-field>
  <mat-label>è¦–è§’</mat-label>
  <mat-select [(value)]="selected" (valueChange)="changeDisplayedColumns($event)">
    @for (food of foods; track food) {
    <mat-option [value]="food.value">{{food.viewValue}}</mat-option>
    }
  </mat-select>
</mat-form-field>
<table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
  class="mat-elevation-z8">

  <!-- ğŸ¢å…¬å¸åŸºæœ¬è³‡æ–™ Start -------------------------------------------------- -->
  <!-- 1. Column -->
  <ng-container matColumnDef="code">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by code">
      <b>ä»£è™Ÿ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.code}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
      <b>åç¨±</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="market">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market">
      <b>å¸‚å ´</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.market}} </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">
      <b>æ—¥æœŸ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.date}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by price">
      <b>æˆäº¤åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.pct>=0 ? 'red' :'green'}"> {{element.price}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="change">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by change">
      <b>æ¼²è·Œåƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.pct>=0 ? 'red' :'green'}"> {{element.change}}
    </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="pct">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by pct">
      <b>æ¼²è·Œå¹…</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngStyle]="{color: element.pct>=0 ? 'red' :'green'}"> {{element.pct}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="face">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by face">
      <b>é¢å€¼(å…ƒ)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.face}} </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="capital">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by capital">
      <b>è‚¡æœ¬(å„„)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.capital}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="count">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by count">
      <b>ç™¼è¡Œé‡(è¬å¼µ)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.count}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="market_cap">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market_cap">
      <b>å¸‚å€¼(å„„)</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.market_cap}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="up_year">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by up_year">
      <b>æˆç«‹å¹´æ•¸</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.up_year}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="market_year">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by market_year">
      <b>ä¸Šå¸‚å¹´æ•¸</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight_more_than(10, element.market_year)}">
      {{element.market_year}}
    </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="futures">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by futures">
      <b>è‚¡ç¥¨æœŸè²¨</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.futures}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="options">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by options">
      <b>é¸æ“‡æ¬Š</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.options}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="Warrant">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Warrant">
      <b>æ¬Šè­‰</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.Warrant}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="debt">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by debt">
      <b>å…¬å¸å‚µ</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.debt}} </td>
  </ng-container>

  <!-- 3. Column -->
  <ng-container matColumnDef="private">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by private">
      <b>ç§å‹Ÿè‚¡</b>
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.private}}
    </td>
  </ng-container>

  <!-- 4. Column -->
  <ng-container matColumnDef="special">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by special">
      <b>ç‰¹åˆ¥è‚¡</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.special}} </td>
  </ng-container>

  <!-- 5. Column -->
  <ng-container matColumnDef="verticals">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by verticals">
      <b>ç”¢æ¥­åˆ¥</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.verticals}} </td>
  </ng-container>

  <!-- 1. Column -->
  <ng-container matColumnDef="chairman">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by chairman">
      <b>è‘£äº‹é•·</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.chairman}} </td>
  </ng-container>

  <!-- 2. Column -->
  <ng-container matColumnDef="manager">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by manager">
      <b>ç¸½ç¶“ç†</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.manager}} </td>
  </ng-container>
  <!-- ğŸ¢å…¬å¸åŸºæœ¬è³‡æ–™ End ---------------------------------------------------- -->

  <!-- ğŸ“ˆæˆ‘çš„åŸºæœ¬é¢ Start ---------------------------------------------------- -->
  <!-- 1. Column -->
  <ng-container *ngFor="let col of columnStr_m_info let idx=index" [matColumnDef]="col.key">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      <b>{{col.value}}</b>
    </th>
    <td mat-cell *matCellDef="let element"> {{element[col.key]}} </td>
  </ng-container>

  <ng-container matColumnDef="epsp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by epsp">
      <b>EPSä¼°åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_less_than(element.epsp, element.price)}">
      {{element.epsp}}
    </td>
  </ng-container>
  <ng-container matColumnDef="yiep">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by yiep">
      <b>è‚¡åƒ¹æ·¨å€¼æ¯”</b>
    </th>
    <td mat-cell *matCellDef="let element"
      [ngClass]="{'highlight': isHighlight_less_than(element.yiep, element.price)}">
      {{element.yiep}}
    </td>
  </ng-container>
  <ng-container matColumnDef="kp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by kp">
      <b>ROEä¼°åƒ¹</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight_less_than(element.kp, element.price)}">
      {{element.kp}}
    </td>
  </ng-container>
  <ng-container matColumnDef="pbr">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by pbr">
      <b>è‚¡åƒ¹æ·¨å€¼æ¯”</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(0,1, element.pbr)}">
      {{element.pbr}}
    </td>
  </ng-container>
  <ng-container matColumnDef="peg">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by peg">
      <b>PEG</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(0,999, element.peg)}">
      {{element.peg}}
    </td>
  </ng-container>
  <ng-container matColumnDef="cash_y">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by cash_y">
      <b>ç¾é‡‘æ®–åˆ©ç‡</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(5,999, element.cash_y)}">
      <b>{{element.cash_y}}</b>
    </td>
  </ng-container>
  <ng-container matColumnDef="roe">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by roe">
      <b>å¹³å‡ROE(>8%)</b>
    </th>
    <td mat-cell *matCellDef="let element" [ngClass]="{'highlight': isHighlight(8,999, element.roe)}">
      {{element.roe}}
    </td>
  </ng-container>
  <!-- ğŸ“ˆæˆ‘çš„åŸºæœ¬é¢ End ------------------------------------------------------ -->

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator [pageSizeOptions]="[5, 10, 20]" [pageSize]="10" showFirstLastButtons
  aria-label="Select page of periodic elements">
</mat-paginator>
